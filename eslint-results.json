[{"filePath":"C:\\Users\\asus\\Desktop\\Development\\ticimax_ürün_yükleme\\ticimax-panel\\src\\app\\api\\admin\\import-attributes\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\asus\\Desktop\\Development\\ticimax_ürün_yükleme\\ticimax-panel\\src\\app\\api\\ai\\fill\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\asus\\Desktop\\Development\\ticimax_ürün_yükleme\\ticimax-panel\\src\\app\\api\\sku\\generate\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\asus\\Desktop\\Development\\ticimax_ürün_yükleme\\ticimax-panel\\src\\app\\api\\ticimax\\category\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\asus\\Desktop\\Development\\ticimax_ürün_yükleme\\ticimax-panel\\src\\app\\api\\ticimax\\push\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\asus\\Desktop\\Development\\ticimax_ürün_yükleme\\ticimax-panel\\src\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\asus\\Desktop\\Development\\ticimax_ürün_yükleme\\ticimax-panel\\src\\app\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\asus\\Desktop\\Development\\ticimax_ürün_yükleme\\ticimax-panel\\src\\app\\products\\new\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\asus\\Desktop\\Development\\ticimax_ürün_yükleme\\ticimax-panel\\src\\components\\products\\product-form.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":249,"column":49,"nodeType":"JSXOpeningElement","endLine":253,"endColumn":51}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useCallback, useEffect } from \"react\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Upload, X, Sparkles, Wand2, Eye, Plus, Trash2 } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface AttributeValue {\r\n    valueId: number;\r\n    name: string;\r\n}\r\n\r\ninterface Attribute {\r\n    featureId: number;\r\n    name: string;\r\n    values: AttributeValue[];\r\n}\r\n\r\ninterface ProductFormProps {\r\n    attributes: Attribute[];\r\n}\r\n\r\ninterface Category {\r\n    id: string;\r\n    name: string;\r\n}\r\n\r\nexport function ProductForm({ attributes }: ProductFormProps) {\r\n    const [files, setFiles] = useState<File[]>([]);\r\n    const [title, setTitle] = useState(\"\");\r\n    const [description, setDescription] = useState(\"\"); // HTML or text\r\n    const [aiLoading, setAiLoading] = useState(false);\r\n    const [sku, setSku] = useState(\"\");\r\n    const [barcode, setBarcode] = useState(\"\");\r\n    const [categories, setCategories] = useState<Category[]>([]);\r\n    const [selectedCategoryId, setSelectedCategoryId] = useState(\"\");\r\n\r\n    // Variants / Assortment state\r\n    const [variants, setVariants] = useState<{ size: string, qty: number }[]>([\r\n        { size: \"\", qty: 1 }\r\n    ]);\r\n\r\n    // Selected Attributes state\r\n    const [selectedAttributes, setSelectedAttributes] = useState<Record<string, string>>({});\r\n\r\n    // Review Modal state\r\n    const [showReview, setShowReview] = useState(false);\r\n    const [pushStatus, setPushStatus] = useState<\"idle\" | \"pushing\" | \"success\" | \"error\">(\"idle\");\r\n\r\n    useEffect(() => {\r\n        // Fetch categories on mount\r\n        fetch(\"/api/ticimax/category\")\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if (data.success) {\r\n                    setCategories(data.categories);\r\n                }\r\n            })\r\n            .catch(err => console.error(\"Failed to load categories\", err));\r\n    }, []);\r\n\r\n    const onDrop = useCallback((acceptedFiles: File[]) => {\r\n        setFiles((prev) => [...prev, ...acceptedFiles]);\r\n    }, []);\r\n\r\n    const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n        onDrop,\r\n        accept: {\r\n            \"image/*\": [\".jpeg\", \".jpg\", \".png\", \".webp\"],\r\n        },\r\n    });\r\n\r\n    const removeFile = (index: number) => {\r\n        setFiles((prev) => prev.filter((_, i) => i !== index));\r\n    };\r\n\r\n    // Variants handlers\r\n    const addVariant = () => setVariants([...variants, { size: \"\", qty: 1 }]);\r\n    const removeVariant = (index: number) => setVariants(variants.filter((_, i) => i !== index));\r\n    const updateVariant = (index: number, field: \"size\" | \"qty\", value: string | number) => {\r\n        const newVariants = [...variants];\r\n        if (field === \"qty\") newVariants[index].qty = Number(value);\r\n        else newVariants[index].size = String(value);\r\n        setVariants(newVariants);\r\n    };\r\n\r\n    const handleAiFill = async () => {\r\n        setAiLoading(true);\r\n        try {\r\n            // Mocking AI or calling real API if configured\r\n            // For demo, we just fill some distinct values\r\n            setTimeout(() => {\r\n                const generatedDesc = `<p><strong>${title || \"Ürün\"}</strong> harika bir seçim.</p><ul><li>Kaliteli Malzeme</li><li>Rahat Kalıp</li></ul>`;\r\n                setDescription(generatedDesc);\r\n                setSku(\"RV-202602-\" + Math.floor(Math.random() * 1000));\r\n\r\n                // Mock selecting a category intelligently\r\n                if (categories.length > 0) {\r\n                    // Pick \"Kadın Sandalet\" if available, else random\r\n                    const sandal = categories.find(c => c.name.toLowerCase().includes(\"sandalet\"));\r\n                    setSelectedCategoryId(sandal ? sandal.id : categories[0].id);\r\n                }\r\n\r\n                // Mock selecting first available value for first attribute\r\n                if (attributes.length > 0 && attributes[0].values.length > 0) {\r\n                    setSelectedAttributes(prev => ({ ...prev, [attributes[0].featureId]: attributes[0].values[0].valueId }));\r\n                }\r\n                setAiLoading(false);\r\n            }, 1500);\r\n        } catch (e) {\r\n            console.error(e);\r\n            setAiLoading(false);\r\n        }\r\n    };\r\n\r\n    const preparePayload = () => {\r\n        const categoryName = categories.find(c => c.id === selectedCategoryId)?.name || \"\";\r\n        return {\r\n            title,\r\n            sku,\r\n            barcode,\r\n            description,\r\n            categoryId: selectedCategoryId,\r\n            categoryName,\r\n            variants,\r\n            selectedAttributes: Object.entries(selectedAttributes).map(([k, v]) => {\r\n                const attrName = attributes.find(a => a.featureId.toString() === k)?.name;\r\n                const valName = attributes.find(a => a.featureId.toString() === k)?.values.find((val) => val.valueId.toString() === v)?.name;\r\n                return { featureId: k, valueId: v, name: attrName, valueName: valName };\r\n            }),\r\n            images: files.map(f => f.name),\r\n            // Just for review visibility\r\n            _meta: {\r\n                imageCount: files.length,\r\n                totalStock: variants.reduce((acc, curr) => acc + curr.qty, 0)\r\n            }\r\n        };\r\n    };\r\n\r\n    const handlePush = async () => {\r\n        setPushStatus(\"pushing\");\r\n        try {\r\n            const payload = preparePayload();\r\n            // Here we would upload files first, then call push API\r\n            // For now simulating API call\r\n            const res = await fetch(\"/api/ticimax/push\", {\r\n                method: \"POST\",\r\n                body: JSON.stringify({ productId: \"DEMO_ID\", ...payload })\r\n            });\r\n            const data = await res.json();\r\n            setPushStatus(data.success ? \"success\" : \"error\");\r\n        } catch (e: unknown) {\r\n            setPushStatus(\"error\");\r\n            console.error(\"Push error:\", e);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-8 max-w-5xl mx-auto p-6 relative\">\r\n            {/* Review Modal Overlay */}\r\n            {showReview && (\r\n                <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm\">\r\n                    <motion.div\r\n                        initial={{ opacity: 0, scale: 0.95 }}\r\n                        animate={{ opacity: 1, scale: 1 }}\r\n                        className=\"bg-background border rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col\"\r\n                    >\r\n                        <div className=\"p-6 border-b flex justify-between items-center\">\r\n                            <h2 className=\"text-2xl font-bold\">Veri Gönderim Önizlemesi</h2>\r\n                            <Button variant=\"ghost\" size=\"icon\" onClick={() => setShowReview(false)}>\r\n                                <X className=\"w-5 h-5\" />\r\n                            </Button>\r\n                        </div>\r\n                        <div className=\"p-6 overflow-y-auto flex-1 space-y-4\">\r\n                            <div className=\"bg-muted p-4 rounded-lg font-mono text-xs overflow-x-auto\">\r\n                                <pre>{JSON.stringify(preparePayload(), null, 2)}</pre>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"p-6 border-t flex justify-end gap-3 bg-muted/20\">\r\n                            <Button variant=\"outline\" onClick={() => setShowReview(false)}>Düzenle</Button>\r\n                            <Button\r\n                                variant=\"premium\"\r\n                                onClick={handlePush}\r\n                                disabled={pushStatus === \"pushing\" || pushStatus === \"success\"}\r\n                            >\r\n                                {pushStatus === \"pushing\" ? \"Gönderiliyor...\" : pushStatus === \"success\" ? \"Başarıyla Gönderildi!\" : \"Onayla & Gönder\"}\r\n                            </Button>\r\n                        </div>\r\n                    </motion.div>\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"flex justify-between items-center\">\r\n                <div>\r\n                    <h1 className=\"text-4xl font-bold tracking-tight bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-400 bg-clip-text text-transparent\">\r\n                        Yeni Ürün\r\n                    </h1>\r\n                    <p className=\"text-muted-foreground mt-2\">\r\n                        Fotoğrafları yükleyin, asortiyi yönetin ve Ticimax&apos;a gönderin.\r\n                    </p>\r\n                </div>\r\n                <div className=\"flex gap-3\">\r\n                    <Button variant=\"outline\">Taslağı Kaydet</Button>\r\n                    <Button variant=\"premium\" className=\"gap-2\" onClick={() => setShowReview(true)}>\r\n                        İncele & Gönder <Eye className=\"w-4 h-4\" />\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n                {/* Left Column: Images & Basic Info */}\r\n                <div className=\"lg:col-span-2 space-y-6\">\r\n                    <Card className=\"border-dashed border-2 border-primary/20 bg-background/50\">\r\n                        <CardContent className=\"pt-6\">\r\n                            <div\r\n                                {...getRootProps()}\r\n                                className={cn(\r\n                                    \"flex flex-col items-center justify-center h-48 rounded-xl transition-all cursor-pointer\",\r\n                                    isDragActive\r\n                                        ? \"bg-primary/5 scale-[0.99] border-primary\"\r\n                                        : \"hover:bg-primary/5\"\r\n                                )}\r\n                            >\r\n                                <input {...getInputProps()} />\r\n                                <div className=\"p-4 bg-primary/10 rounded-full mb-4\">\r\n                                    <Upload className=\"w-8 h-8 text-primary\" />\r\n                                </div>\r\n                                <p className=\"text-lg font-medium\">\r\n                                    {isDragActive ? \"Dosyaları buraya bırakın\" : \"Fotoğrafları sürükleyip bırakın\"}\r\n                                </p>\r\n                            </div>\r\n\r\n                            {/* Image Preview Grid */}\r\n                            <AnimatePresence>\r\n                                {files.length > 0 && (\r\n                                    <div className=\"grid grid-cols-5 gap-3 mt-6\">\r\n                                        {files.map((file, i) => (\r\n                                            <motion.div\r\n                                                key={i}\r\n                                                initial={{ opacity: 0, scale: 0.8 }}\r\n                                                animate={{ opacity: 1, scale: 1 }}\r\n                                                exit={{ opacity: 0, scale: 0.8 }}\r\n                                                className=\"relative aspect-[3/4] group rounded-lg overflow-hidden border bg-background\"\r\n                                            >\r\n                                                <img\r\n                                                    src={URL.createObjectURL(file)}\r\n                                                    alt=\"preview\"\r\n                                                    className=\"object-cover w-full h-full\"\r\n                                                />\r\n                                                <button\r\n                                                    onClick={(e) => {\r\n                                                        e.stopPropagation();\r\n                                                        removeFile(i);\r\n                                                    }}\r\n                                                    className=\"absolute top-1 right-1 p-1 bg-black/50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                                                >\r\n                                                    <X className=\"w-3 h-3\" />\r\n                                                </button>\r\n                                            </motion.div>\r\n                                        ))}\r\n                                    </div>\r\n                                )}\r\n                            </AnimatePresence>\r\n                        </CardContent>\r\n                    </Card>\r\n\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <CardTitle>Ürün Detayları</CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent className=\"space-y-4\">\r\n                            <div className=\"space-y-2\">\r\n                                <label className=\"text-sm font-medium\">Ürün Adı</label>\r\n                                <div className=\"flex gap-2\">\r\n                                    <Input\r\n                                        placeholder=\"Ürün adını girin...\"\r\n                                        value={title}\r\n                                        onChange={(e) => setTitle(e.target.value)}\r\n                                        className=\"flex-1\"\r\n                                    />\r\n                                    <Button\r\n                                        onClick={handleAiFill}\r\n                                        disabled={aiLoading}\r\n                                        className=\"bg-purple-600 hover:bg-purple-700 text-white gap-2\"\r\n                                    >\r\n                                        {aiLoading ? (\r\n                                            <Wand2 className=\"w-4 h-4 animate-spin\" />\r\n                                        ) : (\r\n                                            <Sparkles className=\"w-4 h-4\" />\r\n                                        )}\r\n                                        AI Doldur\r\n                                    </Button>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"grid grid-cols-2 gap-4\">\r\n                                <div className=\"space-y-2\">\r\n                                    <label className=\"text-sm font-medium\">STOK KODU (SKU)</label>\r\n                                    <div className=\"flex gap-2\">\r\n                                        <Input\r\n                                            placeholder=\"Oluşturuluyor...\"\r\n                                            value={sku}\r\n                                            readOnly\r\n                                        />\r\n                                        <Button variant=\"outline\" size=\"icon\" onClick={() => setSku(\"RV-\" + Date.now())}>\r\n                                            <Wand2 className=\"w-4 h-4\" />\r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"space-y-2\">\r\n                                    <label className=\"text-sm font-medium\">Barkod</label>\r\n                                    <Input\r\n                                        placeholder=\"EAN / Barkod\"\r\n                                        value={barcode}\r\n                                        onChange={(e) => setBarcode(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"space-y-2\">\r\n                                <label className=\"text-sm font-medium\">Açıklama (HTML)</label>\r\n                                <textarea\r\n                                    className=\"flex min-h-[100px] w-full rounded-md border border-input bg-background/50 px-3 py-2 text-sm glass focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\"\r\n                                    placeholder=\"Ürün açıklaması...\"\r\n                                    value={description}\r\n                                    onChange={(e) => setDescription(e.target.value)}\r\n                                />\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n\r\n                    <Card>\r\n                        <CardHeader className=\"flex flex-row items-center justify-between\">\r\n                            <CardTitle>Asorti / Varyantlar</CardTitle>\r\n                            <Button size=\"sm\" variant=\"secondary\" onClick={addVariant}><Plus className=\"w-4 h-4 mr-2\" /> Beden Ekle</Button>\r\n                        </CardHeader>\r\n                        <CardContent className=\"space-y-3\">\r\n                            {variants.map((v, i) => (\r\n                                <div key={i} className=\"flex gap-4 items-center\">\r\n                                    <Input\r\n                                        placeholder=\"Beden (Örn: 42)\"\r\n                                        value={v.size}\r\n                                        onChange={(e) => updateVariant(i, \"size\", e.target.value)}\r\n                                        className=\"w-32\"\r\n                                    />\r\n                                    <Input\r\n                                        type=\"number\"\r\n                                        placeholder=\"Adet\"\r\n                                        value={v.qty}\r\n                                        onChange={(e) => updateVariant(i, \"qty\", e.target.value)}\r\n                                        className=\"w-24\"\r\n                                    />\r\n                                    <Button variant=\"ghost\" size=\"icon\" className=\"text-destructive\" onClick={() => removeVariant(i)}>\r\n                                        <Trash2 className=\"w-4 h-4\" />\r\n                                    </Button>\r\n                                </div>\r\n                            ))}\r\n                        </CardContent>\r\n                    </Card>\r\n                </div>\r\n\r\n                {/* Right Column: Settings & Attributes */}\r\n                <div className=\"space-y-6\">\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <CardTitle>Kategori & Durum</CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent className=\"space-y-4\">\r\n                            <div className=\"space-y-2\">\r\n                                <label className=\"text-sm font-medium\">Kategori</label>\r\n                                <select\r\n                                    className=\"w-full text-sm p-2 rounded-md border bg-background/50 h-10\"\r\n                                    value={selectedCategoryId}\r\n                                    onChange={(e) => setSelectedCategoryId(e.target.value)}\r\n                                >\r\n                                    <option value=\"\">Kategori Seçiniz</option>\r\n                                    {categories.map((c) => (\r\n                                        <option key={c.id} value={c.id}>{c.name}</option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n\r\n                            <div className=\"p-3 bg-muted/50 rounded-lg text-sm space-y-2\">\r\n                                <div className=\"flex justify-between\">\r\n                                    <span>Durum</span>\r\n                                    <span className=\"font-medium text-amber-600\">Taslak</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between\">\r\n                                    <span>Görseller</span>\r\n                                    <span className=\"font-medium\">{files.length} Seçildi</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between\">\r\n                                    <span>Toplam Stok</span>\r\n                                    <span className=\"font-medium\">{variants.reduce((a, b) => a + b.qty, 0)}</span>\r\n                                </div>\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <CardTitle>Teknik Özellikler</CardTitle>\r\n                            <CardDescription>Ticimax için özellikleri seçin</CardDescription>\r\n                        </CardHeader>\r\n                        <CardContent className=\"space-y-4 max-h-[500px] overflow-y-auto pr-2\">\r\n                            <div className=\"space-y-3\">\r\n                                {attributes.length === 0 && <p className=\"text-sm text-yellow-500\">Özellik bulunamadı. Lütfen aktarımı çalıştırın.</p>}\r\n                                {attributes.slice(0, 15).map(attr => (\r\n                                    <div key={attr.featureId} className=\"space-y-1\">\r\n                                        <label className=\"text-xs font-semibold\">{attr.name}</label>\r\n                                        <select\r\n                                            className=\"w-full text-sm p-2 rounded-md border bg-background/50\"\r\n                                            value={selectedAttributes[attr.featureId] || \"\"}\r\n                                            onChange={(e) => setSelectedAttributes({ ...selectedAttributes, [attr.featureId]: e.target.value })}\r\n                                        >\r\n                                            <option value=\"\">Seçiniz...</option>\r\n                                            {attr.values.map((v) => (\r\n                                                <option key={v.valueId} value={v.valueId}>{v.name}</option>\r\n                                            ))}\r\n                                        </select>\r\n                                    </div>\r\n                                ))}\r\n                                {attributes.length > 15 && <p className=\"text-xs text-muted-foreground\">+ {attributes.length - 15} özellik daha...</p>}\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\asus\\Desktop\\Development\\ticimax_ürün_yükleme\\ticimax-panel\\src\\components\\ui\\button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\asus\\Desktop\\Development\\ticimax_ürün_yükleme\\ticimax-panel\\src\\components\\ui\\card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\asus\\Desktop\\Development\\ticimax_ürün_yükleme\\ticimax-panel\\src\\components\\ui\\input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\asus\\Desktop\\Development\\ticimax_ürün_yükleme\\ticimax-panel\\src\\lib\\firebase-admin.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Firestore' is defined but never used.","line":2,"column":24,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":33,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Firestore"},"fix":{"range":[113,124],"text":""},"desc":"Remove unused variable \"Firestore\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Storage' is defined but never used.","line":3,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":29,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Storage"},"fix":{"range":[180,189],"text":""},"desc":"Remove unused variable \"Storage\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Auth' is defined but never used.","line":4,"column":19,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":23,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Auth"},"fix":{"range":[240,246],"text":""},"desc":"Remove unused variable \"Auth\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":14,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[563,566],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[563,566],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[587,590],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[587,590],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":16,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[608,611],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[608,611],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { initializeApp, getApps, getApp, cert, ServiceAccount } from \"firebase-admin/app\";\r\nimport { getFirestore, Firestore } from \"firebase-admin/firestore\";\r\nimport { getStorage, Storage } from \"firebase-admin/storage\";\r\nimport { getAuth, Auth } from \"firebase-admin/auth\";\r\n\r\nconst serviceAccount: ServiceAccount = {\r\n    projectId: process.env.FIREBASE_PROJECT_ID,\r\n    clientEmail: process.env.FIREBASE_CLIENT_EMAIL,\r\n    // Handle private key newlines\r\n    privateKey: process.env.FIREBASE_PRIVATE_KEY?.replace(/\\\\n/g, \"\\n\"),\r\n};\r\n\r\nlet app;\r\nlet adminDb: any;\r\nlet adminStorage: any;\r\nlet adminAuth: any;\r\n\r\ntry {\r\n    if (serviceAccount.projectId && serviceAccount.clientEmail && serviceAccount.privateKey) {\r\n        app = !getApps().length\r\n            ? initializeApp({\r\n                credential: cert(serviceAccount),\r\n                storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET, // Optional: for admin storage access\r\n            })\r\n            : getApp();\r\n\r\n        adminDb = getFirestore(app);\r\n        adminStorage = getStorage(app);\r\n        adminAuth = getAuth(app);\r\n    } else {\r\n        console.warn(\"Firebase Admin Credentials missing. Using mock/disabled mode.\");\r\n        // Mock db to prevent crash on page load\r\n        adminDb = {\r\n            collection: () => ({\r\n                get: async () => ({ docs: [] }), // return empty list\r\n                doc: () => ({\r\n                    get: async () => ({ exists: false, data: () => ({}) }),\r\n                    set: async () => { },\r\n                    update: async () => { }\r\n                }),\r\n                where: () => ({ get: async () => ({ empty: true, docs: [] }) }),\r\n            }),\r\n            batch: () => ({ set: () => { }, commit: async () => { } }),\r\n            runTransaction: async () => { return \"MOCK_SKU\"; }\r\n        };\r\n        adminStorage = { bucket: () => ({}) };\r\n        adminAuth = {};\r\n    }\r\n} catch (error) {\r\n    console.error(\"Firebase Admin Init Error:\", error);\r\n}\r\n\r\nexport { adminDb, adminStorage, adminAuth };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\asus\\Desktop\\Development\\ticimax_ürün_yükleme\\ticimax-panel\\src\\lib\\firebase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\asus\\Desktop\\Development\\ticimax_ürün_yükleme\\ticimax-panel\\src\\lib\\openai.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\asus\\Desktop\\Development\\ticimax_ürün_yükleme\\ticimax-panel\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]